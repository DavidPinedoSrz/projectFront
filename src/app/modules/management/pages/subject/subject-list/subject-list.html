<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8">
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-2xl font-bold text-gray-800">Listado de Materias</h1>
                <p class="text-gray-600 mt-2">Gestiona las materias registradas</p>
            </div>
            <button pButton icon="pi pi-plus" label="Crear Materia" routerLink="/management/subject-form"
                class="p-button-success"></button>
        </div>

        <p-table [value]="subjects" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
            currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
            [rowsPerPageOptions]="[10,25,50]">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
                    <th pSortableColumn="name">Nombre <p-sortIcon field="name"></p-sortIcon></th>
                    <th pSortableColumn="code">CÃ³digo <p-sortIcon field="code"></p-sortIcon></th>
                    <th pSortableColumn="gradeId">Grado <p-sortIcon field="gradeId"></p-sortIcon></th>
                    <th pSortableColumn="hoursPerWeek">Horas/Semana <p-sortIcon field="hoursPerWeek"></p-sortIcon></th>
                    <th pSortableColumn="isActive">Estado <p-sortIcon field="isActive"></p-sortIcon></th>
                    <th style="width: 120px">Acciones</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-subject>
                <tr>
                    <td>{{subject.id}}</td>
                    <td>{{subject.name}}</td>
                    <td>{{subject.code}}</td>
                    <td>{{subject.gradeId}}</td>
                    <td>{{subject.hoursPerWeek}}</td>
                    <td>
                        <p-tag [severity]="subject.isActive ? 'success' : 'danger'"
                            [value]="subject.isActive ? 'Activo' : 'Inactivo'"></p-tag>
                    </td>
                    <td>
                        <div class="relative" style="height: 40px;">
                            <p-speedDial [model]="actionItems(subject)" direction="left" type="linear" buttonClassName="p-button-sm"
                                showIcon="pi pi-ellipsis-h" hideIcon="pi pi-times" [style]="{position: 'absolute', right: '0'}"
                                buttonStyleClass="p-button-outlined p-button-secondary">
                            </p-speedDial>
                        </div>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="7" class="text-center py-6 text-gray-500">
                        No se encontraron materias registradas
                    </td>
                </tr>
            </ng-template>
        </p-table>

        <p-toast position="top-right"></p-toast>
    </div>
</div>